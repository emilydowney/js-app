/* eslint-env jquery */
/* eslint-disable no-console */
let pokemonRepository=function(){let t=[],e='https://pokeapi.co/api/v2/pokemon/?limit=150';function n(e){'object'==typeof e&&'name'in e?t.push(e):console.log('error')}function i(){let t=$('#message'),e=$('<p>Information loading...</p>');t.append(e)}function o(){$('#message').addClass('remove')}function a(t){i();let e=t.detailsUrl;return fetch(e).then(function(t){return t.json()}).then(function(e){o(),t.id=e.id,t.imageUrl=e.sprites.other['official-artwork'].front_default,t.height=e.height,t.weight=e.weight,t.ability=e.abilities[0].ability.name,t.secondAbility=e.abilities[1].ability.name,t.types=e.types[0].type.name,2===e.types.length?t.secondType=', '+e.types[1].type.name:t.secondType=''}).catch(function(t){console.error(t)})}function l(t){a(t).then(function(){let e=$('.modal-body'),n=$('.modal-bodyinfo'),i=$('.modal-title');$('#modal-container').addClass('is-visible'),i.empty(),e.empty(),n.empty();let o=$('<h2>'+t.name+'</h2>'),a=$('<p>#'+t.id+'</p>');a.addClass('id');let l=$('<img class="modal-img" style="width: 50%">');l.attr('src',t.imageUrl);let s=$('<p><h7>Height</h7>: '+t.height+' dm</p>');s.addClass('details');let d=$('<p><h7>Weight</h7>: '+t.weight+' hg</p>');d.addClass('details');let p=$('<p><h7>Type</h7>: '+t.types+t.secondType+'</p>');p.addClass('details');let c=$('<p><h7>Abilities</h7>: '+t.ability+', '+t.secondAbility+'</p>');c.addClass('details'),i.append(a),i.append(o),e.append(l),n.append(s),n.append(d),n.append(p),n.append(c)})}return $(document).ready(function(){$('#search').on('keyup',function(){let t=$(this).val().toLowerCase();$('.pokemon-list *').filter(function(){$(this).toggle($(this).text().toLowerCase().indexOf(t)>-1)})})}),{add:n,getAll:function(){return t},addListItem:function(t){let e=$('.pokemon-list'),n=$('<li></li>'),i=$('<button type="button" class="btn-light main-button" data-toggle="modal" data-target="#exampleModal">'+t.name+'</button>');n.addClass('group-list-item'),n.append(i),e.append(n),$(i).click(function(){l(t)})},loadList:function(){return i(),fetch(e).then(function(t){return t.json()}).then(function(t){o(),t.results.forEach(function(t){n({name:t.name,detailsUrl:t.url})})}).catch(function(t){console.error(t)})},loadDetails:a,showModal:l}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});
